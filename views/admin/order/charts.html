{extend name="./layout/base" /}

{block name="header"}
<link rel="stylesheet" href="/addons/assets/wefeemall/static/css/admin.css">
{/block}

{block name="body"}

<div class="container-fluid">
    <div class="row">
        {include file="../addons/wefeemall/views/admin/common/menu.html" /}
        <div class="col-lg-10 pt-10">
            <div class="row">
                <div class="col-md-12">
                    <a href="{:mall_url('order')}" class="btn btn-primary">返回订单列表</a>
                </div>

                <div class="col-md-12 mt-10">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <canvas id="myChart" width="800" height="240"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

{/block}

{block name="footer"}
<script>
    require(['/addons/assets/wefeemall/static/js/Chart.min.js'], function (Chart) {
        var ctx = document.getElementById("myChart");
        var data = {:json_encode($dataSource)};
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: data.label,
                datasets: [{
                    label: '订单量',
                    data: data.data,
                    backgroundColor: ['rgba(255, 99, 132, 0.2)'],
                    borderColor: ['rgba(255,99,132,1)'],
                    borderWidth: 1
                },{
                    label: '支付资金',
                    data: data.total,
                    backgroundColor: ['rgba(100, 99, 100, 0.2)'],
                    borderColor: ['rgba(0,0,100,1)'],
                    borderWidth: 1
                }]
            }
        })
    });
</script>
{/block}